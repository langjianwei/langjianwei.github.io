<!DOCTYPE html>
<!--[if lte IE 8 ]>
<html class="ie" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<!--
***************  *      *     *
      8          *    *       *
      8          *  *         *
      8          **           *
      8          *  *         *
      8          *    *       *
      8          *      *     *
      8          *        *   ***********    -----Theme By 
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<!--<![endif]-->

<head>
  <title>心若向善，处处都是阳光</title>
  <!-- Meta data -->
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="心若向善，处处都是阳光">
    <meta name="author" content="郎建伟">
    <meta name="description" content="" />
    <meta name="keywords" content="" />

    <!-- Favicon, (keep icon in root folder) -->
    <link rel="Shortcut Icon" href="/img/favicon.ico" type="image/ico">

    <link rel="alternate" href="/atom.xml" title="心若向善，处处都是阳光" type="application/atom+xml">
    <link rel="stylesheet" href="/css/all.css" media="screen" type="text/css">
    
    <link rel="stylesheet" href="/highlightjs/vs.css" type="text/css">
    

    <!--[if IE 8]>
    <link rel="stylesheet" type="text/css" href="/css/ie8.css" />
    <![endif]-->

    <!-- jQuery | Load our jQuery, with an alternative source fallback to a local version if request is unavailable -->
    <script src="/js/jquery-1.11.1.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/jquery-1.11.1.min.js"><\/script>')</script>

    <!-- Load these in the <head> for quicker IE8+ load times -->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="/js/html5shiv.min.js"></script>
    <script src="/js/respond.min.js"></script>
    <![endif]-->

  
  
  

  <style>.col-md-8.col-md-offset-2.opening-statement img{display:none;}</style>
</head>


<script src="https://leancloud.cn/scripts/lib/av-0.4.6.min.js"></script>
  <script>AV.initialize("3FAfRbmevTbHahEjKoArMzvP-gzGzoHsz", "revve2KjQfFdtB0rBcmOo3aV");</script>
<!--
<body class="home-template">
-->
<body id="index" class="lightnav animsition">

      <!-- ============================ Off-canvas navigation =========================== -->

    <div class="sb-slidebar sb-right sb-style-overlay sb-momentum-scrolling">
        <div class="sb-close" aria-label="Close Menu" aria-hidden="true">
            <img src="/img/close.png" alt="Close"/>
        </div>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu">
            <li><a href="/" class="animsition-link" title="Home">主页</a></li>
            <li><a href="/archives" class="animsition-link" title="archive">归档</a></li>
            <!-- Dropdown Menu -->
			 
            <li>
                <a class="sb-toggle-submenu">生活随笔<span class="sb-caret"></span></a>
                <ul class="sb-submenu">
                    
                        <li><a href="/" target="_BLANK" class="animsition-link">写写画画</a></li>
                    
                        <li><a href="/atom.xml" target="_BLANK" class="animsition-link">打打闹闹</a></li>
                    
                </ul>
            </li>
            
            
        	<li>
        		<a class="sb-toggle-submenu">分类<span class="sb-caret"></span></a>
            	<ul class="sb-submenu">
				  	
				    <li><a href="/categories/ExtJs/" class="animsition-link">ExtJs<small>(1)</small></a></li>
				    
				    <li><a href="/categories/Linux/" class="animsition-link">Linux<small>(1)</small></a></li>
				    
				    <li><a href="/categories/Spring/" class="animsition-link">Spring<small>(2)</small></a></li>
				    
				    <li><a href="/categories/Spring-Boot/" class="animsition-link">Spring Boot<small>(2)</small></a></li>
				    
				    <li><a href="/categories/java/" class="animsition-link">java<small>(2)</small></a></li>
				    
				    <li><a href="/categories/json/" class="animsition-link">json<small>(1)</small></a></li>
				    
				    <li><a href="/categories/mybatis/" class="animsition-link">mybatis<small>(1)</small></a></li>
				    
				    <li><a href="/categories/oracle/" class="animsition-link">oracle<small>(2)</small></a></li>
				    
				    <li><a href="/categories/webService/" class="animsition-link">webService<small>(1)</small></a></li>
				    
				</ul>
        	</li>
			
            
            <li>
                <a class="sb-toggle-submenu">友情链接<span class="sb-caret"></span></a>
                <ul class="sb-submenu">
                    
                    <li><a href="http://www.importnew.com/" class="animsition-link">importnew</a></li>
                    
                    <li><a href="http://www.oschina.net/" class="animsition-link">开源中国</a></li>
                    
                    <li><a href="http://www.oschina.net/" class="animsition-link">redis中文官网</a></li>
                    
                    <li><a href="https://springcloud.cc/" class="animsition-link">Spring Cloud中文网</a></li>
                    
                </ul>
            </li>
            
        </ul>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu secondary">
            <li><a href="/about.html" class="animsition-link" title="about">关于我</a></li>
            <li><a href="/atom.xml" class="animsition-link" title="rss">RSS</a></li>
        </ul>
    </div>
    
    <!-- ============================ END Off-canvas navigation =========================== -->

    <!-- ============================ #sb-site Main Page Wrapper =========================== -->

    <div id="sb-site">
        <!-- #sb-site - All page content should be contained within this id, except the off-canvas navigation itself -->

        <!-- ============================ Header & Logo bar =========================== -->

        <div id="navigation" class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <!-- Nav logo -->
                    <div class="logo">
                        <a href="/" title="Logo" class="animsition-link">
                        
                        </a>
                    </div>
                    <!-- // Nav logo -->
                    <!-- Info-bar -->
                    <nav>
                        <ul class="nav">
                            <li><a href="/" class="animsition-link">心若向善，处处都是阳光</a></li>
                            <li class="nolink"><span></span>Dances with Wolves.</li>
                            
                            <li><a href="https://github.com/" title="Github" target="_blank"><i class="icon-github"></i></a></li>
                            
                            
                            <li><a href="https://twitter.com/" title="Twitter" target="_blank"><i class="icon-twitter"></i></a></li>
                            
                            
                            <li><a href="https://www.facebook.com/" title="Facebook" target="_blank"><i class="icon-facebook"></i></a></li>
                            
                            
                            <li><a href="https://google.com/" title="Google-Plus" target="_blank"><i class="icon-google-plus"></i></a></li>
                            
                            
                            <li><a href="http://weibo.com/" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a></li>
                            
                            <li class="nolink"><span></span>Welcome!</li>
                        </ul>
                    </nav>
                    <!--// Info-bar -->
                </div>
                <!-- // .container -->
                <div class="learnmore sb-toggle-right">More</div>
                <button type="button" class="navbar-toggle menu-icon sb-toggle-right" title="More">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar before"></span>
                <span class="icon-bar main"></span>
                <span class="icon-bar after"></span>
                </button>
            </div>
            <!-- // .navbar-inner -->
        </div>

        <!-- ============================ Header & Logo bar =========================== -->


      <!-- ============================ Hero Image =========================== -->

<section id="hero" class="scrollme">
    <div class="container-fluid element-img" style="background: url(/img/lang.jpg) no-repeat center center fixed;background-size: cover">
        <div class="row">
            <div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-8 col-md-offset-2 vertical-align cover boost text-center">
                <div class="center-me animateme" data-when="exit" data-from="0" data-to="0.6" data-opacity="0" data-translatey="100">
                    <div>
                        
                        <h2><span>每一个不曾起舞的日子都是对生命的辜负，我终将变得更好</span></h2>
                        <p></p>
                        

                    </div>
                </div>
            </div>
            <!-- // .col-md-12 -->
        </div>
        <div class="herofade beige-dk"></div>
    </div>
</section>

<!-- Height spacing helper -->
<div class="heightblock"></div>
<!-- // End height spacing helper -->

<!-- ============================ END Hero Image =========================== -->
<!-- ============================ Content =========================== -->

<section id="intro">
    <div class="container">
        
        <div class="row">
            <div class="col-md-8 col-md-offset-2 opening-statement">
                <div class="col-md-4">
                    <h3><a href="/2018/08/17/hello-world/">Hello World</a></h3>
                    <span>
                        <span class="post-meta">
      <time datetime="2018-08-17T09:05:35.133Z" itemprop="datePublished">
          2018-08-17
      </time>
    
</span>
                    </span>
                </div>
                <div class="col-md-8">
                    <p>
                      
                        Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.
Quick StartCreate a new p
                      
                    </p>
                    
                    <p class="pull-right readMore">
                        <a href="/2018/08/17/hello-world/">阅读更多...</a>
                    </p>
                    
                </div>
                <div class="clearfix"></div>
                <hr class="nogutter">
            </div>
        </div>
        
        <div class="row">
            <div class="col-md-8 col-md-offset-2 opening-statement">
                <div class="col-md-4">
                    <h3><a href="/2017/11/28/Spring-Boot快速入门之连接Mysql集成redis做缓存（二）/">Spring-Boot快速入门之连接Mysql集成redis做缓存（二）</a></h3>
                    <span>
                        <span class="post-meta">
      <time datetime="2017-11-28T03:03:36.000Z" itemprop="datePublished">
          2017-11-28
      </time>
    
</span>
                    </span>
                </div>
                <div class="col-md-8">
                    <p>
                      
                        一、缓存的应用场景什么是缓存？在互联网场景下，尤其 高并发大流量场景下，需要将一些经常展现和不会频繁变更的数据，存放在存取速率更快的地方。缓存就是一个存储器，在技术选型中，常用 Redis 作为缓存数据库。一是缓存主要是在获取资源方便性能优化的关键方面，二是减少海量的频繁的数据库IO操作。
Redis 是一个高性能的 key-value 数据库。GitHub 地址：https://github.com/antirez/redis 。百度
                      
                    </p>
                    
                    <p class="pull-right readMore">
                        <a href="/2017/11/28/Spring-Boot快速入门之连接Mysql集成redis做缓存（二）/">阅读更多...</a>
                    </p>
                    
                </div>
                <div class="clearfix"></div>
                <hr class="nogutter">
            </div>
        </div>
        
        <div class="row">
            <div class="col-md-8 col-md-offset-2 opening-statement">
                <div class="col-md-4">
                    <h3><a href="/2017/11/22/java多线程之内存可见性/"></a></h3>
                    <span>
                        <span class="post-meta">
      <time datetime="2017-11-22T03:42:41.177Z" itemprop="datePublished">
          2017-11-22
      </time>
    
</span>
                    </span>
                </div>
                <div class="col-md-8">
                    <p>
                      
                        
                      
                    </p>
                    
                    <p class="pull-right readMore">
                        <a href="/2017/11/22/java多线程之内存可见性/">阅读更多...</a>
                    </p>
                    
                </div>
                <div class="clearfix"></div>
                <hr class="nogutter">
            </div>
        </div>
        
        <div class="row">
            <div class="col-md-8 col-md-offset-2 opening-statement">
                <div class="col-md-4">
                    <h3><a href="/2017/11/17/Spring集成Quartz编写定时任务调度器/">Spring集成Quartz编写定时任务调度器</a></h3>
                    <span>
                        <span class="post-meta">
      <time datetime="2017-11-17T03:47:07.000Z" itemprop="datePublished">
          2017-11-17
      </time>
    
</span>
                    </span>
                </div>
                <div class="col-md-8">
                    <p>
                      
                        
新老系统更换，现在新系统有一个功能，就是把客服做完的订单，点击同步上传到电商平台，经销商最终要核对病人信息的（如下图）。由于新系统刚上线一周，全国分仓的同事不熟悉新系统的操作，有人忘记点同步上传，一星期下来积累了大约1000多个单子，考虑到全部由客服手动再次上传，费时费力又费财。由于此功能就是自己开发，所以领导商量，还是由我写一个定时任务来替他们完成订单上传。
接到任务说干就干，自己是下午四点多接到任务的，领导给了两天的时间来完成，由
                      
                    </p>
                    
                    <p class="pull-right readMore">
                        <a href="/2017/11/17/Spring集成Quartz编写定时任务调度器/">阅读更多...</a>
                    </p>
                    
                </div>
                <div class="clearfix"></div>
                <hr class="nogutter">
            </div>
        </div>
        
        <div class="row">
            <div class="col-md-8 col-md-offset-2 opening-statement">
                <div class="col-md-4">
                    <h3><a href="/2017/10/09/Spring-实战/">Spring 实战</a></h3>
                    <span>
                        <span class="post-meta">
      <time datetime="2017-10-09T06:19:11.000Z" itemprop="datePublished">
          2017-10-09
      </time>
    
</span>
                    </span>
                </div>
                <div class="col-md-8">
                    <p>
                      
                        一、spring IOC:1.概念：
所谓控制反转，即依赖关系的获取方式反过来了。
所谓依赖，从程序的角度看，就是比如A要调用B的方法，那么A就依赖于B。
所谓反转（inversion），你必须理解如果不反转，会怎么着，如果不反转，意思就是A主动获取B的实例：B b = new B()，这就是最简单的获取B实例的方法，然后你就可以调用b对象了。所以，不反转，意味着A要主动获取B，才能使用B；到了这里，你就应该明白了反转的意思了。反转就是
                      
                    </p>
                    
                    <p class="pull-right readMore">
                        <a href="/2017/10/09/Spring-实战/">阅读更多...</a>
                    </p>
                    
                </div>
                <div class="clearfix"></div>
                <hr class="nogutter">
            </div>
        </div>
        
        <div class="row">
            <div class="col-md-8 col-md-offset-2 opening-statement">
                <div class="col-md-4">
                    <h3><a href="/2017/09/26/java-基础知识总结（重点）/">java 基础知识总结（重点）</a></h3>
                    <span>
                        <span class="post-meta">
      <time datetime="2017-09-26T10:30:10.000Z" itemprop="datePublished">
          2017-09-26
      </time>
    
</span>
                    </span>
                </div>
                <div class="col-md-8">
                    <p>
                      
                        一、static关键字    1.Static只可以修饰类的成员变量，不可以修饰局部变量    2.被 static 所修饰的属性、方法或者内部类，可以使用类名.属性、类名.方法以及类名.内部类名来直接引用，无需创建实例    3.类属性中被 static 所引用的变量，会被作为 GC 的 root 根节点。作为根节点就意味着，这一类变量是基本上不会被回收的。因此，static 很容易引入内存泄漏的风险，要根据 情况谨慎使用      
                      
                    </p>
                    
                    <p class="pull-right readMore">
                        <a href="/2017/09/26/java-基础知识总结（重点）/">阅读更多...</a>
                    </p>
                    
                </div>
                <div class="clearfix"></div>
                <hr class="nogutter">
            </div>
        </div>
        
        <div class="row">
            <div class="col-md-8 col-md-offset-2 opening-statement">
                <div class="col-md-4">
                    <h3><a href="/2017/09/15/Spring-Boot快速入门之Hello-Word（一）/">Spring Boot快速入门之Hello Word（一）</a></h3>
                    <span>
                        <span class="post-meta">
      <time datetime="2017-09-15T06:40:56.000Z" itemprop="datePublished">
          2017-09-15
      </time>
    
</span>
                    </span>
                </div>
                <div class="col-md-8">
                    <p>
                      
                        
Spring Boot是由Pivotal团队提供的全新框架，其设计目的是用来简化新Spring应用的初始搭建以及开发过程。该框架使用了特定的方式来进行配置，从而使开发人员不再需要定义样板化的配置。通过这种方式，Boot致力于在蓬勃发展的快速应用开发领域（rapid application development）成为领导者。
大家在第1次接触或者学习Spring框架的时候，是否因为其繁杂的配置而退却了？反正我是这样，还记得那时候一脸懵
                      
                    </p>
                    
                    <p class="pull-right readMore">
                        <a href="/2017/09/15/Spring-Boot快速入门之Hello-Word（一）/">阅读更多...</a>
                    </p>
                    
                </div>
                <div class="clearfix"></div>
                <hr class="nogutter">
            </div>
        </div>
        
        <div class="row">
            <div class="col-md-8 col-md-offset-2 opening-statement">
                <div class="col-md-4">
                    <h3><a href="/2017/08/30/Jackson-高性能的JSON处理/">java下Jackson 高性能的JSON处理</a></h3>
                    <span>
                        <span class="post-meta">
      <time datetime="2017-08-30T08:04:01.000Z" itemprop="datePublished">
          2017-08-30
      </time>
    
</span>
                    </span>
                </div>
                <div class="col-md-8">
                    <p>
                      
                        
大家也知道，json 在如今互联网时代应用的非常广，无论是前端与后端数据交互，Android，iOS移动开发，json无处不在。因为大家如此的关注，所以对json的解析性能要求也是非常高的。

java下常用的json类库有：Jackson，FastJson，Gson

FastJson 阿里巴巴公司开源的速度最快的Json和对象转换工具
Gson 是google开发的一款解析Json的一个开源框架
Jackson:我们今天的男一号，
                      
                    </p>
                    
                    <p class="pull-right readMore">
                        <a href="/2017/08/30/Jackson-高性能的JSON处理/">阅读更多...</a>
                    </p>
                    
                </div>
                <div class="clearfix"></div>
                <hr class="nogutter">
            </div>
        </div>
        
        <div class="row">
            <div class="col-md-8 col-md-offset-2 opening-statement">
                <div class="col-md-4">
                    <h3><a href="/2017/08/30/HashMap实现原理及源码分析/">HashMap实现原理及源码分析</a></h3>
                    <span>
                        <span class="post-meta">
      <time datetime="2017-08-30T06:09:45.000Z" itemprop="datePublished">
          2017-08-30
      </time>
    
</span>
                    </span>
                </div>
                <div class="col-md-8">
                    <p>
                      
                        哈希表也叫做散列表，我们知道，数据结构的物理存储结构只有两种：顺序存储结构和链式存储结构（像栈，队列，树，图等是从逻辑结构去抽象的，映射到内存中，也这两种物理组织形式），而在上面我们提到过，在数组中根据下标查找某个元素，一次定位就可以达到，哈希表利用了这种特性，哈希表的主干就是数组。
然而万事无完美，如果两个不同的元素，通过哈希函数得出的实际存储地址相同怎么办？也就是说，当我们对某个元素进行哈希运算，得到一个存储地址，然后要进行插入的时
                      
                    </p>
                    
                    <p class="pull-right readMore">
                        <a href="/2017/08/30/HashMap实现原理及源码分析/">阅读更多...</a>
                    </p>
                    
                </div>
                <div class="clearfix"></div>
                <hr class="nogutter">
            </div>
        </div>
        
        <div class="row">
            <div class="col-md-8 col-md-offset-2 opening-statement">
                <div class="col-md-4">
                    <h3><a href="/2017/08/20/Linux-CentOS7-搭建SVN服务器/">Linux(CentOS7)搭建SVN服务器</a></h3>
                    <span>
                        <span class="post-meta">
      <time datetime="2017-08-20T14:02:07.000Z" itemprop="datePublished">
          2017-08-20
      </time>
    
</span>
                    </span>
                </div>
                <div class="col-md-8">
                    <p>
                      
                        
如果说在互联网大行其道的今天什么东西最博人眼球，无疑是人工智能，云计算，大数据，机器学习，深度学习，VR等等……

2017年也无疑是翻天覆地的一年。Alpha Go大战柯洁，围棋领域中人类的最强大脑也不幸落败……
马云爸爸的无人超市，无人支付，无现金社会席卷而来……
百度老总李彦宏亲自把无人驾驶汽车开上五环……
繁华的城市街头，随处可见的共享宝马，共享奥迪，共享单车…..
这些以前你想都不敢想的，正在以所向披靡的速度走进我们的生活，
                      
                    </p>
                    
                    <p class="pull-right readMore">
                        <a href="/2017/08/20/Linux-CentOS7-搭建SVN服务器/">阅读更多...</a>
                    </p>
                    
                </div>
                <div class="clearfix"></div>
                <hr class="nogutter">
            </div>
        </div>
        
        <nav class="pagination" role="pagination">
          
          <a class="pull-right" href="/page/2/">下一页 →</a>
        </nav>
    </div>
</section>
<section id="statement">
    <div class="container text-center wow fadeInUp" data-wow-delay="0.5s">
        <div class="row">
            <p>你不将就一切都时候，生活自然会厚爱于你。</p>
        </div>
    </div>
</section>
<!-- ============================ END Content =========================== -->

      
<!-- ============================ Footer =========================== -->

<footer>
    <div class="container">
            <div class="copy">
                <p>
                    &copy; 2017<script>new Date().getFullYear()>2010&&document.write("-"+new Date().getFullYear());</script>, Content By 郎建伟. All Rights Reserved.
                </p>
                <p>Theme By <a href="https://langjianwei.top/" style="color: #767D84">Langjianwei</a></p>

            </div>
            <div class="social">
                <ul>
                    
                    <li><a href="https://github.com/" title="Github" target="_blank"><i class="icon-github"></i></a>&nbsp;</li>
                    
                    
                    <li><a href="https://twitter.com/" title="Twitter" target="_blank"><i class="icon-twitter"></i></a>&nbsp;</li>
                    
                    
                    <li><a href="https://www.facebook.com/" title="Facebook" target="_blank"><i class="icon-facebook"></i></a>&nbsp;</li>
                    
                    
                    <li><a href="https://google.com/" title="Google-Plus" target="_blank"><i class="icon-google-plus"></i></a>&nbsp;</li>
                    
                    
                    <li><a href="http://weibo.com/" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a>&nbsp;</li>
                    
                </ul>
                <span id="busuanzi_container_site_pv">您是第：
                    <span id="busuanzi_value_site_pv"></span>位访问本站的小伙伴
                </span>
            </div>
            <div class="clearfix"></div>
        </div>
</footer>

<!-- ============================ END Footer =========================== -->


<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
      <!-- Load our scripts -->
<!-- Resizable 'on-demand' full-height hero -->
<script type="text/javascript">
    var resizeHero = function () {
        var hero = $(".cover,.heightblock"),
            window1 = $(window);
        hero.css({
            "height": window1.height()
        });
    };

    resizeHero();

    $(window).resize(function () {
        resizeHero();
    });
</script>
<script src="/js/plugins.min.js"></script><!-- Bootstrap core and concatenated plugins always load here -->
<script src="/js/jquery.flexslider-min.js"></script><!-- Flexslider plugin -->
<script src="/js/scripts.js"></script><!-- Theme scripts -->


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$('#intro').find('img').each(function(){
  var alt = this.alt;

  if (alt){
    $(this).after('<span class="caption" style="display:none">' + alt + '</span>');
  }

  $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="gallery" />');
});
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

<!-- Initiate flexslider plugin -->
<script type="text/javascript">
    $(document).ready(function($) {
      (function(){
        console.log('font');
        var getCss = function(path) {
          var head = document.getElementsByTagName('head')[0];
          link = document.createElement('link');
          link.href = path;
          link.rel = 'stylesheet';
          link.type = 'text/css';
          head.appendChild(link);
        };
        getCss('https://fonts.googleapis.com/css?family=Montserrat:400,700');
        getCss('https://fonts.googleapis.com/css?family=Open+Sans:400,600');
      })();
      $('.flexslider').flexslider({
        animation: "fade",
        prevText: "",
        nextText: "",
        directionNav: true
      });
    });
</script>



<!--page counter part-->
<script>
function addCount (Counter) {
        url=$('.article-date').attr('href').trim();
    title = $('.article-title').text().trim();
    var query=new AV.Query(Counter);
    //use url as unique idnetfication
    query.equalTo("url",url);
    query.find({
        success: function(results){
            if(results.length>0)
            {
                var counter=results[0];
                counter.fetchWhenSave(true); //get recent result
                counter.increment("time");
                counter.save();
            }
            else
            {
                var newcounter=new Counter();
                newcounter.set("title",title);
                newcounter.set("url",url);
                newcounter.set("time",1);
                newcounter.save(null,{
                    success: function(newcounter){
                    //alert('New object created');
                    },
                    error: function(newcounter,error){
                    alert('Failed to create');
                    }
                    });
            }
        },
        error: function(error){
            //find null is not a error
            alert('Error:'+error.code+" "+error.message);
        }
    });
}
$(function(){
    var Counter=AV.Object.extend("Counter");
    //only increse visit counting when intering a page
    if ($('.article-title').length == 1)
       addCount(Counter);
    var query=new AV.Query(Counter);
    query.descending("time");
    // the sum of popular posts
    query.limit(10); 
    query.find({
        success: function(results){
                for(var i=0;i<results.length;i++)    
                {
                    var counter=results[i];
                    title=counter.get("title");
                    url=counter.get("url");
                    time=counter.get("time");
                    // add to the popularlist widget
                    showcontent=title+" ("+time+")";
                    //notice the "" in href
                    $('.popularlist').append('<li><a href="'+url+'">'+showcontent+'</a></li>');
                }
            },
        error: function(error){
            alert("Error:"+error.code+" "+error.message);
        }
        }
    )
    });

</body>
</html>
